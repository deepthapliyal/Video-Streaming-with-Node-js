<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Video Player</title>
  </head>
  <body>
    <video id="videoPlayer" width="640" height="360" controls></video>

    <script>
      const videoPlayer = document.getElementById('videoPlayer');
      const videoUrl = 'http://localhost:8000/video';

      fetch(videoUrl)
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          const rangeHeader = response.headers.get('content-range');
          const fileSize = rangeHeader ? parseInt(rangeHeader.split('/')[1], 10) : response.headers.get('content-length');
          videoPlayer.setAttribute('src', videoUrl);
          videoPlayer.setAttribute('type', 'video/mp4');
          videoPlayer.setAttribute('data-file-size', fileSize);
          videoPlayer.load();
        })
        .catch(error => {
          console.error(error);
          videoPlayer.innerHTML = 'An error occurred while loading the video.';
        });

      videoPlayer.addEventListener('error', event => {
        console.error(`Video player error: ${event.target.error.code}`);
        videoPlayer.innerHTML = 'An error occurred while playing the video.';
      });
    </script>
  </body>
</html>
